
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ù†ØµØ© Ø£Ø¯ÙŠØ³ÙˆÙ† | Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø·ÙˆÙ‘Ø± ÙˆØ§Ù„ÙØ®Ù… (Ø¨Ø¯ÙˆÙ† Ù…Ø´ØºÙ„ Ø®Ø§Ø±Ø¬ÙŠ)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* ğŸ’¡ Ù„ÙˆØ­Ø© Ø£Ù„ÙˆØ§Ù† Ø¹ØµØ±ÙŠØ© ÙˆÙ…ØªØ±ÙØ© (Neo-Dark Mode) */
            --primary: #00E0C6; /* Ù„ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠ Ø¬Ø±ÙŠØ¡ (ÙÙŠØ±ÙˆØ²ÙŠ) */
            --primary-light: #00ffeb;
            --gradient-start: #00A2FF; /* Ø£Ø²Ø±Ù‚ Ù…Ø´Ø¹ */
            --gradient-end: #00E0C6; /* ÙÙŠØ±ÙˆØ²ÙŠ */
            --bg-color: #0A0D14; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© Ø¬Ø¯Ø§Ù‹ */
            --card-color: #121620; /* Ù„ÙˆÙ† Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù…ÙŠÙ‚ */
            --text-color: #F8F9FA; /* Ø£Ø¨ÙŠØ¶ Ø³Ø§Ø·Ø¹ */
            --text-color-secondary: #ABB3BB; /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ */
            --border-color: #2D3440; /* Ø­Ø¯ÙˆØ¯ Ù†Ø§Ø¹Ù…Ø© */
            --shadow-color: rgba(0, 224, 198, 0.25);
            --shadow-color-hover: rgba(0, 162, 255, 0.4);
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙØµÙˆÙ„ */
            --class-color-1-rgb: 59, 130, 246; /* Ø£Ø²Ø±Ù‚ */
            --class-color-2-rgb: 236, 72, 153; /* ÙˆØ±Ø¯ÙŠ */
            --class-color-3-rgb: 16, 185, 129; /* Ø£Ø®Ø¶Ø± */
            --class-color-4-rgb: 245, 158, 11; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --class-color-5-rgb: 139, 92, 246; /* Ø¨Ù†ÙØ³Ø¬ÙŠ */
            --class-color-6-rgb: 239, 68, 68; /* Ø£Ø­Ù…Ø± */
            /* ØªÙ… Ø¥Ø²Ø§Ù„Ø© --plyr-color-main */
        }

        /* --------------------------------------------------- */
        /* 1. Ø§Ù„ØªØ£Ø³ÙŠØ³ ÙˆØ§Ù„Ø®Ø·ÙˆØ· */
        /* --------------------------------------------------- */
        html {
            scroll-behavior: smooth;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tajawal', sans-serif;
        }

        body,
        html {
            /* Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ */
            user-select: none;
            min-height: 100vh;
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.8; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø®Ø· Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© */
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* --------------------------------------------------- */
        /* 2. Ø§Ù„Ù„ÙˆØ¯Ø± ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª */
        /* --------------------------------------------------- */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100dvh;
            background: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s;
        }
        .spinner {
            width: 60px; /* ØªÙƒØ¨ÙŠØ± */
            height: 60px; /* ØªÙƒØ¨ÙŠØ± */
            border: 5px solid var(--border-color);
            border-top-color: var(--primary-light); /* Ù„ÙˆÙ† Ø£ÙƒØ«Ø± Ø¥Ø¶Ø§Ø¡Ø© */
            border-radius: 50%;
            animation: spin 1s cubic-bezier(0.5, 0.15, 0.5, 0.85) infinite; /* Ø­Ø±ÙƒØ© Ø£ÙƒØ«Ø± Ø³Ù„Ø§Ø³Ø© */
        }
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
        .page {
            display: none;
            padding: 2rem 1.5rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ */
            max-width: 1300px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù‚ØµÙ‰ */
            margin: 0 auto;
        }
        .page.active {
            display: block;
            animation: fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.4, 1);
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @keyframes popIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        /* --------------------------------------------------- */
        /* 3. Ø§Ù„Ù‡ÙŠØ¯Ø± (Header) ÙˆØ¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ†Ù‚Ù„ */
        /* --------------------------------------------------- */
        header {
            background: rgba(18, 22, 32, 0.95); /* Ø®Ù„ÙÙŠØ© Ø£ØºÙ…Ù‚ ÙˆØ£ÙƒØ«Ø± Ø¶Ø¨Ø§Ø¨ÙŠØ© */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .site-title {
            background: none;
            border: none;
            padding: 0;
            font: inherit;
            color: inherit;
            cursor: pointer;
            text-align: inherit;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            font-size: 2.2rem; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø· */
            font-weight: 900; /* Ø®Ø· Ø«Ù‚ÙŠÙ„ */
            transition: transform 0.3s ease-out;
        }
        .site-title:hover {
            transform: scale(1.05) rotate(-1deg); /* Ø­Ø±ÙƒØ© Ø£ÙƒØ«Ø± Ø¬Ø§Ø°Ø¨ÙŠØ© */
        }
        .search-container {
            flex-grow: 1;
            max-width: 600px; /* Ø²ÙŠØ§Ø¯Ø© Ø¹Ø±Ø¶ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« */
            position: relative;
        }
        #searchInput {
            width: 100%;
            padding-block: 1rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ */
            padding-inline-end: 1.5rem;
            padding-inline-start: 4rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¨Ø­Ø« */
            border: 2px solid var(--border-color); /* Ø­Ø¯ÙˆØ¯ Ø£Ø³Ù…Ùƒ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
            border-radius: 30px; /* Ø´ÙƒÙ„ Ø¨ÙŠØ¶Ø§ÙˆÙŠ Ø£Ù†Ø¹Ù… */
            background: var(--card-color);
            color: var(--text-color);
            font-size: 1.1rem;
            transition: all 0.4s ease;
            font-weight: 500;
        }
        #searchInput:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 20px var(--shadow-color);
            background: #19202c;
        }
        #searchInput::placeholder {
            color: var(--text-color-secondary);
        }
        #searchButton {
            position: absolute;
            inset-inline-start: 10px; /* ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: var(--bg-color); /* Ù„ÙˆÙ† Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø²Ø± */
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 45px; /* ØªÙƒØ¨ÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø²Ø± */
            height: 45px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px var(--shadow-color);
        }
        #searchButton:hover {
            opacity: 0.95;
            transform: translateY(-50%) scale(1.1); /* ØªØ£Ø«ÙŠØ± Ø£ÙƒØ¨Ø± */
            box-shadow: 0 0 25px var(--shadow-color-hover);
        }

        /* --------------------------------------------------- */
        /* 4. Ù‚Ø³Ù… Ø§Ù„ØªØ±Ø­ÙŠØ¨ (Hero Section) */
        /* --------------------------------------------------- */
        .hero-section {
            text-align: center;
            padding: 5rem 2rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ */
            margin-bottom: 2.5rem;
            border-radius: 25px; /* Ø­ÙˆØ§Ù Ø£ÙƒØ«Ø± Ø§Ø³ØªØ¯Ø§Ø±Ø© */
            background: var(--card-color);
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        /* ØªØ£Ø«ÙŠØ± Ø®Ù„ÙÙŠØ© Ù†Ø§Ø¹Ù… */
        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 70% 30%, rgba(0, 224, 198, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }
        .hero-section h1 {
            font-size: clamp(2.5rem, 6vw, 3.5rem); /* Ø®Ø· Ø³Ø§Ø¦Ù„ Ø£ÙƒØ¨Ø± */
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, var(--primary-light), var(--gradient-start));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            z-index: 2;
            position: relative;
        }
        .hero-section p {
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            color: var(--text-color-secondary);
            font-weight: 500;
            max-width: 600px;
            margin: 0 auto;
            z-index: 2;
            position: relative;
        }

        /* --------------------------------------------------- */
        /* 5. Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ† (Teacher Cards) */
        /* --------------------------------------------------- */
        .teachers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø¹Ø±Ø¶ */
            gap: 2rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
            margin-top: 1rem;
        }
        .teacher-card {
            background: var(--card-color);
            border-radius: 20px; /* Ø­ÙˆØ§Ù Ø£ÙƒØ«Ø± Ø§Ø³ØªØ¯Ø§Ø±Ø© */
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.2, 0.8, 0.4, 1);
            border: 1px solid var(--border-color);
            overflow: hidden;
            opacity: 0;
            animation: popIn 0.6s ease-out forwards;
            text-align: center;
            /* Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø²Ø± */
            font: inherit;
            color: inherit;
            border: none;
            padding: 0; /* ØªÙ… Ù†Ù‚Ù„ Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ Ù„Ù„Ø¯Ø§Ø®Ù„ */
            display: block;
        }
        .teacher-card-content {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .teacher-card:hover {
            transform: translateY(-10px) scale(1.02); /* ØªØ£Ø«ÙŠØ± Ø±ÙØ¹ Ø£ÙƒØ¨Ø± */
            border-color: var(--primary);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5), 0 0 30px var(--shadow-color-hover);
            background: #171d2b;
        }
        .teacher-img {
            width: 160px; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø© */
            height: 160px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid var(--primary);
            display: block;
            margin: 0 auto 1.8rem auto;
            transition: all 0.4s ease;
            box-shadow: 0 0 25px var(--shadow-color);
        }
        .teacher-card:hover .teacher-img {
            transform: scale(1.08) rotate(2deg);
            border-color: var(--gradient-start);
            box-shadow: 0 0 40px var(--shadow-color-hover);
        }
        .teacher-name {
            margin-bottom: 0.5rem;
            font-size: 1.6rem; /* Ø®Ø· Ø£ÙƒØ¨Ø± */
            font-weight: 800;
            color: var(--text-color);
        }
        .teacher-subject {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-light);
        }
        
        /* --------------------------------------------------- */
        /* 6. Ø§Ù„Ø£Ø²Ø±Ø§Ø± (Buttons) */
        /* --------------------------------------------------- */
        .btn {
            background: linear-gradient(45deg, var(--gradient-start), var(--gradient-end));
            color: var(--bg-color);
            font-weight: 700;
            border: none;
            padding: 1rem 2rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ */
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.2, 0.8, 0.4, 1);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.05rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px var(--shadow-color-hover);
        }
        .btn.btn-secondary {
            background: var(--card-color);
            color: var(--primary);
            border: 2px solid var(--border-color);
            box-shadow: none;
        }
        .btn.btn-secondary:hover {
            background: #19202c;
            border-color: var(--primary);
            color: var(--primary-light);
            transform: translateY(-2px);
        }
        .btn svg {
            margin-inline-end: 10px;
            vertical-align: middle;
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        /* --------------------------------------------------- */
        /* 7. ØµÙØ­Ø© Ø§Ù„ÙØµÙˆÙ„ (Classes Page) */
        /* --------------------------------------------------- */
        .classes-page {
            display: grid;
            gap: 2.5rem;
        }
        .teacher-info {
            background: var(--card-color);
            padding: 3rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ */
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 3rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© */
            border: 1px solid var(--border-color);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        .teacher-img-lg {
            width: 140px; /* ØªÙƒØ¨ÙŠØ± */
            height: 140px;
            border-radius: 50%;
            border: 5px solid var(--primary);
            object-fit: cover;
            flex-shrink: 0;
        }
        .teacher-info-text h2 {
            font-size: clamp(2rem, 5vw, 2.5rem);
            font-weight: 900;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }
        .teacher-info-text p {
            font-size: 1.3rem;
            color: var(--primary-light);
            font-weight: 600;
        }
        .classes-list {
            display: grid;
            gap: 1.5rem;
        }
        .class-card {
            background: var(--card-color);
            border-radius: 15px; /* Ø­ÙˆØ§Ù Ø£ÙƒØ«Ø± Ø§Ø³ØªØ¯Ø§Ø±Ø© */
            --class-color-rgb: var(--class-color-3-rgb);
            border: 2px solid rgba(var(--class-color-rgb), 0.3);
            overflow: hidden;
            transition: all 0.4s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .class-card:hover {
            border-color: rgb(var(--class-color-rgb));
            box-shadow: 0 0 30px rgba(var(--class-color-rgb), 0.4);
            transform: translateY(-3px);
        }
        .class-header {
            /* Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø²Ø± */
            background: none;
            border: none;
            font: inherit;
            color: inherit;
            width: 100%;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.8rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ */
            text-align: right;
            transition: background 0.3s;
        }
        .class-card.open .class-header {
            background: #19202c;
        }
        .class-header h3 {
            font-size: 1.4rem; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø· */
            font-weight: 700;
        }
        .class-header .arrow {
            font-size: 1.6rem;
            color: rgb(var(--class-color-rgb));
            transition: transform 0.3s ease;
        }
        .class-card.open .arrow {
            transform: rotate(180deg);
        }
        .lectures-list {
            display: none;
            gap: 0.5rem; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª */
            padding: 0 1.8rem 1.8rem 1.8rem;
            border-top: 1px solid var(--border-color);
        }
        .class-card.open .lectures-list {
            display: grid;
        }
        .lecture-item {
            /* Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø²Ø± */
            background: none;
            border: none;
            font: inherit;
            color: inherit;
            width: 100%;
            cursor: pointer;
            text-align: right;
            position: relative;
            padding-block: 1.2rem;
            padding-inline-start: 1.5rem;
            padding-inline-end: 4rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            background: #19202c;
            border-radius: 10px; /* Ø­ÙˆØ§Ù Ø£Ù†Ø¹Ù… */
            border-inline-end: 5px solid rgba(var(--class-color-rgb), 0.6);
            transition: all 0.3s;
            font-weight: 500;
            font-size: 1.05rem;
        }
        .lecture-item:hover {
            background: #1f2630;
            border-inline-end-color: rgb(var(--class-color-rgb));
            transform: translateX(-15px); /* Ø­Ø±ÙƒØ© Ø£ÙƒØ¨Ø± ÙˆØ£ÙƒØ«Ø± Ø¨Ø±ÙˆØ²Ø§Ù‹ */
        }
        .lecture-item.completed {
            border-inline-end-color: #238636;
            color: var(--text-color-secondary);
            background: #151e28;
        }
        .lecture-item.completed:hover {
            background: #1f2630;
            border-inline-end-color: #238636;
        }
        .lecture-icon {
            position: absolute;
            inset-inline-start: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.3rem; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
            color: rgb(var(--class-color-rgb));
        }
        .lecture-item.completed .lecture-icon {
            color: #38A169; /* Ø£Ø®Ø¶Ø± Ø£Ø¹Ù…Ù‚ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
        }

        /* --------------------------------------------------- */
        /* 8. ØµÙØ­Ø© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (Video Page) */
        /* --------------------------------------------------- */
        .video-page {
            display: flex;
            flex-direction: column;
            gap: 2rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© */
        }
        .video-container {
            position: relative;
            background: black;
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--primary); /* Ø¥Ø·Ø§Ø± Ø­ÙˆÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ */
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 30px var(--shadow-color-hover);
            /* **ØªØ­Ø¯ÙŠØ« Ù‡Ø§Ù…: Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„ÙÙŠØ¯ÙŠÙˆ** */
            max-inline-size: 100%;
            width: 100%;
        }

        /* Ø§Ù„Ù…Ø´ØºÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ùˆ Iframe Player - Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ */
        #videoPlayer, #iframePlayer {
            width: 100%;
            /* ğŸš€ Ø®Ø§ØµÙŠØ© aspect-ratio Ù‡ÙŠ Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ø¹Ù„Ù‰ Ø£ÙŠ Ø´Ø§Ø´Ø© */
            aspect-ratio: 16 / 9; 
            height: auto;
            border: 0;
            display: block; /* Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± iframe Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ */
        }

        /* Ø¶Ù…Ø§Ù† Ø£Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠÙ…Ù„Ø£ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
        #videoPlayer {
            object-fit: contain; /* ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø³Ø¨Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙƒØ¨ÙŠØ±/Ø§Ù„ØªØµØºÙŠØ± */
        }

        /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø·Ø§Ø±/Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„ØºÙŠØ± Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù€ src) */
        #iframePlayer { display: none; }
        .video-container:has(#iframePlayer[src]:not([src=""])) #videoPlayer { display: none; }
        .video-container:has(#videoPlayer[src]:not([src=""])) #iframePlayer { display: none; }


        .video-details {
            background: var(--card-color);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        #videoTitle {
            font-size: 2.2rem; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
            font-weight: 800;
            margin-bottom: 0.8rem;
            color: var(--primary-light);
        }
        #videoDescription {
            font-size: 1.15rem;
            color: var(--text-color-secondary);
            margin-bottom: 2rem;
            font-weight: 500;
            line-height: 1.8;
        }
        .video-actions {
            display: flex;
            gap: 1.5rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© */
            justify-content: flex-start; /* Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ† ÙÙŠ RTL */
            flex-wrap: wrap;
        }
        .video-actions .btn {
            padding: 0.8rem 1.8rem;
        }

        /* --------------------------------------------------- */
        /* 9. Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Modal) ÙˆØ§Ù„ÙÙˆØªØ± (Footer) */
        /* --------------------------------------------------- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100dvh;
            background: rgba(0, 0, 0, 0.85); /* Ø®Ù„ÙÙŠØ© Ø£ÙƒØ«Ø± Ù‚ØªØ§Ù…Ø© */
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }
        .modal-content {
            background: var(--card-color);
            padding: 3rem;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            text-align: center;
            max-width: 550px;
            width: 90%;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.8);
            animation: popInModal 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-icon {
            font-size: 4rem;
            line-height: 1;
            margin-bottom: 1rem;
            animation: bounce 0.8s infinite alternate;
        }
        @keyframes bounce {
            from {
                transform: translateY(-5px);
            }
            to {
                transform: translateY(5px);
            }
        }
        .modal-content h2 {
            font-size: 2rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 1.2rem;
        }
        .modal-content p {
            font-size: 1.1rem;
            color: var(--text-color-secondary);
            margin-bottom: 2.5rem;
            font-weight: 500;
            line-height: 1.8;
        }
        .modal-actions {
            display: flex;
            gap: 1.5rem;
            flex-direction: row; /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø¨Ø¹Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙŠØ³ÙƒØªÙˆØ¨ */
            justify-content: center;
        }
        @keyframes popInModal {
            from {
                opacity: 0;
                transform: scale(0.7) translateY(50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        footer {
            text-align: center;
            padding: 3rem 1.5rem;
            margin-top: 5rem; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
            border-top: 1px solid var(--border-color);
        }
        footer .btn {
            background: #202c37;
            color: #fff;
            border: 1px solid #4A5568;
            padding: 0.8rem 1.5rem;
        }
        footer .btn:hover {
            background: #2c3947;
        }

        /* --------------------------------------------------- */
        /* 10. Ø§Ù„ØªØ¬Ø§ÙˆØ¨ (Media Queries) - ØªØ±ÙƒÙŠØ² Ø®Ø§Øµ Ø¹Ù„Ù‰ Ø§Ù„Ø¢ÙŠØ¨Ø§Ø¯ */
        /* --------------------------------------------------- */

        /* Ø§Ù„Ø¢ÙŠØ¨Ø§Ø¯ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ ÙˆØ§Ù„Ø¢ÙŠØ¨Ø§Ø¯ Ø§Ù„ØµØºÙŠØ± ÙˆØ§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø§Ù„ÙƒØ¨ÙŠØ± (768px to 1024px) */
        @media (max-width: 1024px) {
            .page {
                padding: 1.5rem 1rem;
            }
            .teachers-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1.5rem;
            }
            .teacher-card {
                padding: 0; /* Ù„Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬ */
            }
            .teacher-card-content {
                padding: 1.5rem;
            }
            .teacher-info {
                flex-direction: column;
                text-align: center;
                gap: 2rem;
                padding: 2rem;
            }
            .teacher-img-lg {
                width: 120px;
                height: 120px;
            }
            .class-header h3 {
                font-size: 1.25rem;
            }
            
            /* **ØªØ¬Ø§ÙˆØ¨ Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø¢ÙŠØ¨Ø§Ø¯ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙˆØ§Ù„ØµØºÙŠØ±Ø© (Vertical)** */
            #videoPage.page {
                padding: 0; /* Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠÙ…ØªØ¯ Ù…Ù† Ø§Ù„Ø­Ø§ÙØ© Ù„Ù„Ø­Ø§ÙØ© */
            }
            .video-page {
                padding-top: 1rem;
                gap: 1.5rem;
            }
            .video-container {
                border-radius: 0;
                border-left: none;
                border-right: none;
                box-shadow: none;
                border: 0;
            }
            #videoPage .video-details {
                margin: 0 1rem;
                border-radius: 15px;
            }
            .video-actions {
                justify-content: center;
            }
        }

        /* Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆØ§Ù„Ø¢ÙŠØ¨Ø§Ø¯ Ø§Ù„ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ (Ø£Ù‚Ù„ Ù…Ù† 768px) */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 1rem;
                gap: 1rem;
            }
            .site-title {
                font-size: 2rem;
            }
            .search-container {
                width: 100%;
            }
            .hero-section {
                padding: 3rem 1rem;
            }
            .hero-section h1 {
                font-size: 2.5rem;
            }
            .teachers-grid {
                grid-template-columns: 1fr;
            }
            .teacher-img {
                width: 130px;
                height: 130px;
            }
            .class-header {
                padding: 1.2rem;
            }
            .lectures-list {
                padding: 0 1.2rem 1.2rem 1.2rem;
            }
            .lecture-item:hover {
                transform: translateX(-5px); /* ØªØ£Ø«ÙŠØ± Ø£Ù‚Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            }
            .modal-content {
                padding: 2rem;
            }
            .modal-actions {
                flex-direction: column;
            }
            .video-details {
                padding: 1.5rem;
            }
            #videoTitle {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div id="welcomeModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-icon">ğŸš€</div>
            <h2>Ù„Ø­Ø¸Ø© Ù…Ù† Ø±Ø®ØµØªÙƒ!</h2>
            <p>
                Ù‡Ù„Ø§ Ø¨ÙŠÙƒ Ø¨Ù…Ù†ØµØ© Ø£Ø¯ÙŠØ³ÙˆÙ†!
                <br>
                Ø­ØªÙ‰ ØªØ³ØªÙØ§Ø¯ Ø£Ù‚ØµÙ‰ Ø§Ø³ØªÙØ§Ø¯Ø©ØŒ Ø¶Ø±ÙˆØ±ÙŠ ÙƒÙ„Ø´ ØªÙ†Ø¶Ù… Ù„Ù‚Ù†Ø§ØªÙ†Ø§ Ø¹Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…. ÙƒÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…Ù‡Ù…Ø© ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª ÙˆØ§Ù„Ù…Ù„Ø§Ø²Ù… ØªÙ„ÙƒØ§Ù‡Ø§ Ù‡Ù†Ø§Ùƒ.
            </p>
            <div class="modal-actions">
                <a id="joinModalBtn" href="https://t.me/od7cc" target="_blank" rel="noopener noreferrer" class="btn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9.78 18.65l.28-4.23l7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3L3.64 12c-.88-.27-.88-.86.2-1.3l15.97-6.16c.73-.33 1.36.17 1.15.94l-3.22 15.24c-.2 1.04-.74 1.3-1.5 1.03l-4.73-3.49l-2.27 2.22c-.25.25-.46.46-.8.46c-.35 0-.6-.2-.83-.43z"></path>
                    </svg>
                    Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ù‚Ù†Ø§Ø©
                </a>
                <button id="closeModalBtn" class="btn btn-secondary">Ø£ØºÙ„Ù‚</button>
            </div>
        </div>
    </div>
    <div id="loader" class="loader">
        <div class="spinner"></div>
    </div>

    <div id="jsonViewer" style="display: none; background: var(--card-color); padding: 1rem; margin: 2rem; border-radius: 8px;">
        <pre id="jsonContent" style="white-space: pre-wrap; word-wrap: break-word;"></pre>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© Ø­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©
        let completedLectures = JSON.parse(localStorage.getItem('completedLectures') || '{}');
        function saveCompleted() {
            localStorage.setItem('completedLectures', JSON.stringify(completedLectures));
        }
        function markLectureCompleted(url) {
            if (!completedLectures[url]) {
                completedLectures[url] = true;
                saveCompleted();
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ø¹Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ÙØµÙˆÙ„
                if (currentTeacher && pages.classes.classList.contains('active')) {
                    renderClasses(currentTeacher.classes);
                }
            }
        }
    </script>
    <header>
        <button type="button" class="site-title" onclick="navigate('home')">Ø£Ø¯ÙŠØ³ÙˆÙ†</button>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¯Ø±Ø³ Ø£Ùˆ Ù…Ø§Ø¯Ø©..." aria-label="Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¯Ø±Ø³ÙŠÙ†">
            <button id="searchButton" aria-label="Ø²Ø± Ø§Ù„Ø¨Ø­Ø«">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
        </div>
    </header>
    <main>
        <div id="homePage" class="page active">
            <section class="hero-section">
                <h1>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø£Ø¯ÙŠØ³ÙˆÙ† Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h1>
                <p>Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ† ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø§Ù„ØªÙÙˆÙ‚ Ø¨Ø®Ø·ÙˆØ§Øª Ø«Ø§Ø¨ØªØ© ÙˆÙ…Ø­Ø§Ø¶Ø±Ø§Øª Ù…ØªÙ…ÙŠØ²Ø©.</p>
            </section>
            <div class="teachers-grid" id="teachersGrid">
            </div>
        </div>

        <div id="classesPage" class="page">
            <div class="classes-page">
                <button class="btn btn-secondary back-button" onclick="navigate('home')">
                    <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transform: scaleX(-1);">
                        <path d="M19 12H5"></path>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…Ø¯Ø±Ø³ÙŠÙ†
                </button>

                <div class="teacher-info">
                    <img id="teacherImage" class="teacher-img-lg" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³">
                    <div class="teacher-info-text">
                        <h2 id="teacherName"></h2>
                        <p id="teacherSubject"></p>
                    </div>
                </div>

                <div class="classes-list" id="classesList">
                </div>
            </div>
        </div>

        <div id="videoPage" class="page">
            <div class="video-page">
                <div class="video-container">
                    <video id="videoPlayer" playsinline controls></video>
                    <iframe
                        id="iframePlayer"
                        allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
                        sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-presentation"
                        allowfullscreen>
                    </iframe>
                </div>

                <div class="video-details">
                    <h2 id="videoTitle"></h2>
                    <p id="videoDescription"></p>
                    <div class="video-actions">
                        <button class="btn btn-secondary" onclick="navigate('classes')">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transform: scaleX(-1);">
                                <path d="M19 12H5"></path>
                                <polyline points="12 19 5 12 12 5"></polyline>
                            </svg>
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙØµÙˆÙ„
                        </button>
                        <button class="btn" onclick="copyLectureLink()">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                            </svg>
                            Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <a href="https://t.me/od7cc" target="_blank" rel="noopener noreferrer" class="btn">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M9.78 18.65l.28-4.23l7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3L3.64 12c-.88-.27-.88-.86.2-1.3l15.97-6.16c.73-.33 1.36.17 1.15.94l-3.22 15.24c-.2 1.04-.74 1.3-1.5 1.03l-4.73-3.49l-2.27 2.22c-.25.25-.46.46-.8.46c-.35 0-.6-.2-.83-.43z"></path>
            </svg>
            ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        </a>
    </footer>

    <script>
        // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        // ØªÙ… Ø­Ø°Ù Plyr Ùˆ HLS.js
        const videoPlayer = document.getElementById('videoPlayer');
        const iframePlayer = document.getElementById('iframePlayer');
        const pages = {
            home: document.getElementById('homePage'),
            classes: document.getElementById('classesPage'),
            video: document.getElementById('videoPage')
        };
        const teachersGrid = document.getElementById('teachersGrid');
        const classesList = document.getElementById('classesList');
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const loader = document.getElementById('loader');
        const classColorsRgb = [
            'var(--class-color-1-rgb)',
            'var(--class-color-2-rgb)',
            'var(--class-color-3-rgb)',
            'var(--class-color-4-rgb)',
            'var(--class-color-5-rgb)',
            'var(--class-color-6-rgb)'
        ];
        let teachers = [];
        let currentTeacher = null;
        let currentLectureLink = '';
        let currentClassIndex = 0;
        let currentLectureIndex = 0;


        function navigate(page) {
            window.scrollTo(0, 0);
            if (page !== 'video') {
                // Ø¥ÙŠÙ‚Ø§Ù ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ†Ù‚Ù„
                videoPlayer.pause();
                videoPlayer.src = ''; // Ø¥ÙØ±Ø§Øº Ø§Ù„Ù…ØµØ¯Ø± Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø´ØºÙ„
                iframePlayer.src = ''; // Ø¥ÙØ±Ø§Øº Ù…ØµØ¯Ø± Ø§Ù„Ù€ iframe
            }
            Object.keys(pages).forEach(k => pages[k].classList.remove('active'));
            pages[page].classList.add('active');
        }

        function copyLectureLink() {
            if (!currentLectureLink) return;
            navigator.clipboard.writeText(currentLectureLink)
                .then(() => alert('âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø¨Ù†Ø¬Ø§Ø­!'))
                .catch(() => alert('âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®'));
        }

        function renderTeachers(list = teachers) {
            if (!list.length) {
                teachersGrid.innerHTML = '<p style="text-align: center; font-size: 1.2rem; color: var(--text-color-secondary); padding: 3rem;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø« ğŸ§</p>';
                return;
            }
            teachersGrid.innerHTML = list.map(t =>
                `<button type="button" class="teacher-card" data-teacher-id="${t.id}">
                    <div class="teacher-card-content">
                        <img src="${t.image}" alt="${t.name}" class="teacher-img" loading="lazy">
                        <h3 class="teacher-name">${t.name}</h3>
                        <p class="teacher-subject">${t.subject}</p>
                    </div>
                </button>`
            ).join('');
        }

        function showTeacher(id) {
            currentTeacher = teachers.find(t => t.id == id);
            if (!currentTeacher) return;
            document.getElementById('teacherImage').src = currentTeacher.image;
            document.getElementById('teacherName').textContent = currentTeacher.name;
            document.getElementById('teacherSubject').textContent = currentTeacher.subject;

            renderClasses(currentTeacher.classes);
            navigate('classes');
        }

        function renderClasses(classesData) {
            classesList.innerHTML = classesData.map((cls, ci) => {

                const colorRgb = classColorsRgb[ci % classColorsRgb.length];
                const lectures = cls.lectures.map((lec, li) => {
                    const done = !!completedLectures[lec.url];
                    return `
                        <button type="button" class="lecture-item ${done ? 'completed' : ''}"
                            data-class-index="${ci}"
                            data-lecture-index="${li}">
                            <span class="lecture-icon">${done ? 'âœ”' : 'â–¶'}</span>
                            ${li + 1}. ${lec.title}
                        </button>
                    `;
                }).join('');

                return `
                    <div class="class-card" style="--class-color-rgb: ${colorRgb};">
                        <button type="button" class="class-header" aria-expanded="false" aria-controls="lectures-list-${ci}">
                            <h3>${cls.name}</h3>
                            <span class="arrow">â–¼</span>
                        </button>
                        <div class="lectures-list" id="lectures-list-${ci}">
                            ${lectures}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function toggleLectures(headerElement) {
            const card = headerElement.parentElement;
            const isExpanded = card.classList.toggle('open');
            headerElement.setAttribute('aria-expanded', isExpanded);
        }

        function playVideo(ci, li, url, title, desc) {
            currentLectureLink = url;
            currentClassIndex = ci;
            currentLectureIndex = li;

            const video = videoPlayer;
            const iframe = iframePlayer;

            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø´ØºÙ„Ø§Øª
            video.src = '';
            iframe.src = '';

            if (url.startsWith('https://iframe.mediadelivery.net/embed/')) {
                // Ù…Ø´ØºÙ„ Ø¹Ø¨Ø± Iframe
                video.style.display = 'none';
                iframe.style.display = 'block';
                iframe.src = url;
            } else {
                // Ù…Ø´ØºÙ„ Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (<video>)
                iframe.style.display = 'none';
                video.style.display = 'block';

                // ØªØ¹ÙŠÙŠÙ† Ù…ØµØ¯Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (Ø³ÙˆØ§Ø¡ ÙƒØ§Ù† MP4 Ø£Ùˆ M3U8ØŒ Ø§Ù„Ù…ØªØµÙØ­ Ø³ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†)
                video.src = url;
                video.load();
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŒ Ù‚Ø¯ ØªØªØ·Ù„Ø¨ Ù†Ù‚Ø±Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                video.play().catch(error => {
                    console.warn("Autoplay was prevented:", error);
                    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ù†Ø§ Ù„Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
                });
            }

            // ØªØ­Ø¯ÙŠØ« ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
            document.getElementById('videoTitle').textContent = title;
            document.getElementById('videoDescription').textContent = desc;

            navigate('video');
        }

        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙƒÙ…Ù„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ø¯Ø« 'ended' Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        videoPlayer.addEventListener('ended', () => {
            markLectureCompleted(currentLectureLink);

            const cls = currentTeacher.classes;
            let ci = currentClassIndex;
            let li = currentLectureIndex;

            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙØµÙ„
            if (li < cls[ci].lectures.length - 1) {
                li++;
            }
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ÙØµÙ„ Ø§Ù„ØªØ§Ù„ÙŠ
            else if (ci < cls.length - 1) {
                ci++;
                li = 0; // Ø£ÙˆÙ„ Ù…Ø­Ø§Ø¶Ø±Ø© ÙÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            }
            // Ø§Ù†ØªÙ‡Øª ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª
            else {
                alert('Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰');
                navigate('classes');
                return;
            }

            const next = cls[ci].lectures[li];
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
            playVideo(ci, li, next.url, next.title, next.description);
        });

        function handleSearch() {
            const term = searchInput.value.trim().toLowerCase();
            const filtered = teachers.filter(t =>
                t.name.toLowerCase().includes(term) ||
                t.subject.toLowerCase().includes(term)
            );
            renderTeachers(filtered);
        }

        let searchTimeout;
        searchInput.addEventListener('input', () => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(handleSearch, 300);
        });
        searchButton.addEventListener('click', handleSearch);

        function loadData() {
            loader.style.display = 'flex';

            const errorMsg = '<p style="text-align: center; color: #FF6B6B; font-size: 1.2rem;">âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù <code style="color: #FFD700;">data.json</code></p>';

            fetch('data.json')
                .then(res => {
                    if (!res.ok) throw new Error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                    return res.json();
                })
                .then(data => {
                    teachers = data.teachers;
                    renderTeachers();
                    console.log('Ø¨ÙŠØ§Ù†Ø§Øª JSON:', data);
                    loader.style.opacity = '0';
                    setTimeout(() => { loader.style.display = 'none'; }, 500);
                })
                .catch(error => {
                    console.error('Error:', error);
                    teachersGrid.innerHTML = errorMsg;
                    teachersGrid.innerHTML += `
                        <br>
                        <div style="text-align: center;">
                            <button class="btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                        </div>
                    `;
                    loader.style.opacity = '0';
                    setTimeout(() => { loader.style.display = 'none'; }, 500);
                });
        }

        // Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø¨Ø²Ø± Ø§Ù„ÙØ£Ø±Ø© Ø§Ù„Ø£ÙŠÙ…Ù†
        document.addEventListener('contextmenu', e => e.preventDefault());

        // Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ (Event Delegation)
        document.addEventListener('DOMContentLoaded', () => {

            // 1. Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠÙ†
            teachersGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.teacher-card');
                if (card) {
                    showTeacher(card.dataset.teacherId);
                }
            });

            // 2. Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØµÙˆÙ„ ÙˆØ§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª
            classesList.addEventListener('click', (e) => {
                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø±Ø£Ø³ Ø§Ù„ÙØµÙ„ (Ù„ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©)
                const header = e.target.closest('.class-header');
                if (header) {
                    toggleLectures(header);
                    return;
                }

                // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ù…Ø­Ø§Ø¶Ø±Ø©
                const item = e.target.closest('.lecture-item');
                if (item) {
                    const ci = item.dataset.classIndex;
                    const li = item.dataset.lectureIndex;
                    const lec = currentTeacher.classes[ci].lectures[li];
                    playVideo(ci, li, lec.url, lec.title, lec.description);
                }
            });

            // 3. ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            loadData();

            // 4. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modal)
            const welcomeModal = document.getElementById('welcomeModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const joinModalBtn = document.getElementById('joinModalBtn');

            function closeModal() {
                welcomeModal.classList.remove('active');
                localStorage.setItem('visitedEdison', 'true');
            }

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·
            if (!localStorage.getItem('visitedEdison')) {
                setTimeout(() => {
                    welcomeModal.classList.add('active');
                }, 500);
            }

            closeModalBtn.addEventListener('click', closeModal);
            joinModalBtn.addEventListener('click', closeModal);
        });

    </script>
</body>
</html>
